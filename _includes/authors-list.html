{% assign authors = page.authors %}
{% if post.authors.size > 0 %}
  {% assign authors = post.authors %}
{% endif %}

{% if authors.size > 0 %}
<div class="authors">
  <span class="authors__label">{{ site.data.language.author_list }}</span>

  <span class="authors__list">
    {% if authors.size == 2 %}
      {%- assign list_break = ' and ' -%}
    {% elsif authors.size >= 3 %}
      {%- assign list_break = ', ' -%}
      {%- assign end_break = ' and ' -%}
    {% endif %}

    {% assign penultimate = authors.size | minus: 1 %}

      {%- for author in authors -%}
        {%- assign author_info = site.authors | where: "relative_path", author | first -%}
        {%- assign author_list = author_info.title -%}
          {{ author_list }}
        {%- if forloop.last == false -%}
          {{- list_break -}}
        {%- endif -%}
        {% if forloop.index == penultimate %}
          {{- end_break -}}
        {% endif %}
      {%- endfor -%}
  </span>
</div>
{% endif %}
